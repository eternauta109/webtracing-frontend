{"version":3,"sources":["component/login.js","component/accordion.js","component/registrationElement.js","component/table.js","component/modalPhoto.js","component/tracing.js","component/navbar.js","App.js","index.js"],"names":["Login","setCinema","setLogged","setTotScreen","username","useRef","password","navigate","useNavigate","onSubmit","event","a","preventDefault","alert","Axios","post","current","value","then","res","data","cinema","screen","catch","e","focus","useEffect","className","type","name","placeholder","ref","Accordion","setScreen","setTime","num","nome","totScreen","arraySala","Array","from","keys","moment","locale","id","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","tabIndex","aria-labelledby","data-bs-parent","htmlFor","onChange","target","defaultValue","map","key","items","currentDate","set","hour","minute","fill","_acc","push","format","add","setArrayTime","RegistrationElement","registration","reg","setRegistrer","useState","select","setSelect","console","log","handleSubmit","axios","delete","codTicket","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","response","deleted","onDb","ticket","date","onClick","newArray","count","newestOnTop","rtl","pauseOnFocusLoss","Table","ModalPhoto","origin","setInput","show","setShow","setData","aria-hidden","data-bs-dismiss","aria-label","width","height","onUpdate","err","result","text","onUpdateScreen","Tracing","codFisc","buttonSubmit","time","agregato","number","counter","setCounter","registrer","error","fiscale","nameClient","numberPhone","Date","toLocaleString","newArrya","handleKeyPressed","disabled","onKeyPress","NavBar","isLogged","Litracing","to","href","App","path","element","style","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e3b1b52a.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const Login = ({ setCinema, setLogged, setTotScreen }) => {\r\n  const username = useRef(\"\");\r\n  const password = useRef(\"\");\r\n\r\n  const URL = \"https://webtracing.herokuapp.com/\";\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    /* console.log(\"login value nel submit\"); */\r\n\r\n    if (!username || !password) {\r\n      alert(\"campi vuoti\");\r\n      return;\r\n    }\r\n\r\n    /* console.log(\"sono nel submit\"); */\r\n\r\n    try {\r\n      await Axios.post(URL, {\r\n        username: username.current.value,\r\n        password: password.current.value\r\n      })\r\n        .then((res) => {\r\n          /* console.log(\"login respone\", res.data); */\r\n          setCinema(res.data.cinema);\r\n          setTotScreen(res.data.screen);\r\n          setLogged(true);\r\n          return navigate(\"/tracing\");\r\n        })\r\n        .catch((e) => {\r\n          alert(\"axios del login\\n\" + e);\r\n          username.current.focus();\r\n          username.current.value = \"\";\r\n          password.current.value = \"\";\r\n          return;\r\n        });\r\n    } catch (error) {\r\n      alert(error);\r\n      return;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {});\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-4 offset-md-4\">\r\n          <div className=\"login-form bg-light mt-4 p-4\">\r\n            <form className=\"row g-3\" onSubmit={onSubmit}>\r\n              <h4>Login for start to tracing</h4>\r\n              <div className=\"col-12\">\r\n                <label>Username</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Username\"\r\n                  ref={username}\r\n                  /* onChange={(event)=>setUser(event.currentTarget.value)} */\r\n                />\r\n              </div>\r\n              <div className=\"col-12\">\r\n                <label>Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Password\"\r\n                  ref={password}\r\n                  /* onChange={(event)=>password=event.current.value} */\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-12\">\r\n                <button type=\"submit\" className=\"btn btn-dark float-end\">\r\n                  Login\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <hr className=\"mt-4\" />\r\n            <div className=\"col-6\">\r\n              <p className=\"text-end mb-0 fs-6\">dev by Fabio Conti</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nexport const Accordion = ({ setScreen, setTime, num, nome, totScreen }) => {\r\n  /* console.log(totScreen); */\r\n  const arraySala = Array.from(Array(totScreen).keys());\r\n  moment.locale(\"it\");\r\n\r\n  const setArrayTime = () => {\r\n    var items = [];\r\n    var currentDate = moment().set({ hour: 10, minute: 30 });\r\n    const tip = new Array(175).fill().map(function (_acc) {\r\n      items.push(currentDate.format(\"HH:mm\"));\r\n      currentDate = currentDate.add(5, \"minutes\");\r\n    });\r\n\r\n    return items;\r\n  };\r\n\r\n  /* console.log(setArrayTime()); */\r\n\r\n  return (\r\n    <div className=\"accordion accordion\" id=\"accordionFlushExample\">\r\n      <div className=\"accordion-item\">\r\n        <h2 className=\"accordion-header\" id=\"flush-headingOne\">\r\n          <button\r\n            className=\"accordion-button\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#collapseOne\"\r\n            aria-expanded=\"true\"\r\n            aria-controls=\"collapseOne\"\r\n            tabIndex=\"-1\"\r\n          >\r\n            <p>in caso di registrazione senza codice fiscale...</p>\r\n          </button>\r\n        </h2>\r\n        <div\r\n          id=\"collapseOne\"\r\n          className=\"accordion-collapse collapse px-2\"\r\n          aria-labelledby=\"headingOne\"\r\n          data-bs-parent=\"#accordionExample\"\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            ref={nome}\r\n            name=\"name\"\r\n            className=\"form-control my-2\"\r\n            placeholder=\"NOME E COGNOME\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"phoneNumber\"\r\n            ref={num}\r\n            className=\"form-control my-2\"\r\n            placeholder=\"NUMERO DI TELEFONO\"\r\n          />\r\n\r\n          <div className=\"d-flex flex-row\">\r\n            <div className=\"col-4 m-1\">\r\n              <label className=\"text-muted\" htmlFor=\"form-select\">\r\n                SALA\r\n              </label>\r\n              <select\r\n                className=\"form-select mb-1\"\r\n                onChange={(e) => setScreen(e.target.value)}\r\n                defaultValue=\"screen\"\r\n              >\r\n                {arraySala.map((e, key) => {\r\n                  return <option key={key}>{e + 1}</option>;\r\n                })}\r\n              </select>\r\n            </div>\r\n            <div className=\"col-7 m-1\">\r\n              <label className=\"text-muted\" htmlFor=\"form-select\">\r\n                ORARIO\r\n              </label>\r\n              <select\r\n                className=\"form-select mb-1\"\r\n                onChange={(e) => setTime(e.target.value)}\r\n                defaultValue=\"orario\"\r\n              >\r\n                {setArrayTime().map((e, key) => {\r\n                  return <option key={key}>{e}</option>;\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Accordion;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nfunction RegistrationElement({ registration, reg, setRegistrer }) {\r\n  const [select, setSelect] = useState(\"\");\r\n  const URL = \"https://webtracing.herokuapp.com/tracing/\";\r\n  console.log(\"registartion\", reg);\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      await axios\r\n        .delete(URL, {\r\n          data: { codTicket: select }\r\n        })\r\n        .then(\r\n          toast.success(\"eliminazione dal db avvenuta\", {\r\n            position: \"bottom-right\",\r\n            autoClose: 1000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined\r\n          })\r\n        )\r\n        .catch((e) => alert(e.response.data));\r\n    } catch (error) {\r\n      alert(\r\n        \"errore axios eliminazione elemento in registration Element\",\r\n        error\r\n      );\r\n    }\r\n  };\r\n\r\n  const deleted = !reg.onDb ? (\r\n    <span>\r\n      <span className=\"fs-6\">\r\n        <del>ticket: {reg.ticket} </del>{\" \"}\r\n      </span>\r\n      <span>\r\n        {\" \"}\r\n        <del> date: {reg.date}</del>\r\n      </span>\r\n    </span>\r\n  ) : (\r\n    <span>\r\n      <span className=\"fs-6\"> ticket: {reg.ticket}</span>\r\n      <span> date: {reg.date}</span>\r\n    </span>\r\n  );\r\n  /* \"text-muted\" */\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <li className=\"list-group-item d-flex justify-content-between\">\r\n          {deleted}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-danger btn-sm\"\r\n            onClick={() => {\r\n              setSelect(reg.ticket);\r\n              let newArray = [...registration];\r\n              /* console.log(\"counter\", select); */\r\n              newArray[reg.count] = { ...reg, onDb: false };\r\n              setRegistrer(newArray);\r\n            }}\r\n          >\r\n            <i className=\"bi bi-trash\"></i>\r\n          </button>\r\n        </li>\r\n      </form>\r\n      <ToastContainer\r\n        position=\"bottom-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegistrationElement;\r\n","import React from 'react';\r\nimport RegistrationElement from './registrationElement';\r\n\r\n\r\n\r\nexport const Table = ({ registration,setRegistrer}) => {\r\n  /* import { useSelector } from \"react-redux\"; */\r\n \r\n  /* console.log(registration) */\r\n  return (\r\n    <ul className=\"list-group list-group-flush\">\r\n      {registration.map((reg, key) => (\r\n        <RegistrationElement key={key} registration={registration} reg={reg}  setRegistrer={setRegistrer}  />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React  from 'react';\r\nimport { useState } from \"react\";\r\nimport BarcodeScannerComponent from \"react-webcam-barcode-scanner\";\r\n\r\nconst ModalPhoto = ({ origin, setInput }) => {\r\n  const [show, setShow] = useState(false);\r\n  const [data, setData] = useState(false);\r\n\r\n  /* console.log(\"show\", show); */\r\n\r\n  \r\n  const onUpdateScreen = (err, result) => {\r\n    if (result) {\r\n      setInput.current.value = result;\r\n      setData(result.text);\r\n      setShow(false);\r\n    } else {\r\n      setData(\"not found\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Button trigger modal */}\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-secondary \"\r\n        data-bs-toggle=\"modal\"\r\n        tabIndex={-1}\r\n        onClick={() => setShow(true)}\r\n        data-bs-target={\"#modalPhoto\" + origin}\r\n      >\r\n        <i className=\"bi bi-camera-fill\"></i>\r\n      </button>\r\n\r\n      {/* Modal */}\r\n      <div\r\n        className=\"modal fade\"\r\n        id={\"modalPhoto\" + origin}\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                Scann {origin}\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShow(false)}\r\n                className=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              />\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"shadow p-3 mb-5 bg-body rounded\">\r\n                <>\r\n                  {show && (\r\n                    <BarcodeScannerComponent\r\n                      width={400}\r\n                      height={500}\r\n                      onUpdate={(err, result) => onUpdateScreen(err, result)}\r\n                    />\r\n                  )}\r\n                  <p>{data}</p>\r\n                </>\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShow(false)}\r\n                aria-label=\"Close\"\r\n                className=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalPhoto;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Accordion from \"./accordion\";\r\nimport Table from \"./table\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport axios from \"axios\";\r\nimport ModalPhoto from \"./modalPhoto\";\r\n\r\nexport const Tracing = ({ cinema, totScreen }) => {\r\n  const URL = \"https://webtracing.herokuapp.com/tracing\";\r\n  /* const [codFisc, setCodFisc] = useState(''); */\r\n  const codFisc = useRef(\"\");\r\n  const ticket = useRef();\r\n  const buttonSubmit = useRef(\"\");\r\n  const [screen, setScreen] = useState();\r\n  const [time, setTime] = useState();\r\n  /* const date = new Date().toLocaleString() + ''; */\r\n  const agregato = useRef(\"\");\r\n  const number = useRef(\"\");\r\n  const [counter, setCounter] = useState(0);\r\n  const [registrer, setRegistrer] = useState([]);\r\n\r\n  function azzeraTutto() {\r\n    codFisc.current.value = \"\";\r\n    agregato.current.value = \"\";\r\n    number.current.value = \"\";\r\n    ticket.current.value = \"\";\r\n  }\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!cinema) {\r\n      alert(\"fai prima il login grazie\");\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !codFisc.current.value &&\r\n      !agregato.current.value &&\r\n      !number.current.value\r\n    ) {\r\n      toast.error(\r\n        \"inserire codice fiscale o nome, cognome e numero di telefono\",\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: 5000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined\r\n        }\r\n      );\r\n      return;\r\n    }\r\n    if (!ticket.current.value) {\r\n      if (agregato.current.value && number.current.value) {\r\n        ticket.current.value =\r\n          agregato.current.value + \" \" + number.current.value;\r\n      } else {\r\n        toast.error(\r\n          \"si deve inserire il codice biglietto o sala,ingresso e dati cliente\",\r\n          {\r\n            position: \"bottom-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined\r\n          }\r\n        );\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      await axios\r\n        .post(URL, {\r\n          registration: {\r\n            cinema: cinema,\r\n            fiscale: codFisc.current.value,\r\n            nameClient: agregato.current.value,\r\n            numberPhone: number.current.value,\r\n            screen,\r\n            time,\r\n            ticket: ticket.current.value,\r\n            date: new Date().toLocaleString() + \"\"\r\n          }\r\n        })\r\n        .then((res) => {\r\n          if (res.data) {\r\n            toast.success(\"registrazione avvenuta\", {\r\n              position: \"bottom-right\",\r\n              autoClose: 1000,\r\n              hideProgressBar: false,\r\n              closeOnClick: true,\r\n              pauseOnHover: true,\r\n              draggable: true,\r\n              progress: undefined\r\n            });\r\n          } else {\r\n            alert(\"qualcosa Ã¨ andato storto. Riprova\");\r\n          }\r\n        })\r\n        .catch((e) => alert(e.response.data));\r\n    } catch (error) {\r\n      alert(\"error axios tracing\", error);\r\n    }\r\n\r\n    setCounter(counter + 1);\r\n\r\n    /* console.log(counter) */\r\n\r\n    let newArrya = [...registrer];\r\n    newArrya[counter] = {\r\n      fiscale: codFisc.current.value,\r\n      ticket: ticket.current.value,\r\n      nameClient: agregato.current.value,\r\n      numberPhone: number.current.value,\r\n      screen: screen,\r\n      time,\r\n      count: counter,\r\n      date: new Date().toLocaleString() + \"\",\r\n      onDb: true\r\n    };\r\n\r\n    setRegistrer(newArrya);\r\n\r\n    if (counter === 2) {\r\n      setCounter(0);\r\n    }\r\n    azzeraTutto();\r\n\r\n    codFisc.current.focus();\r\n  };\r\n\r\n  const handleKeyPressed = (e) => {\r\n    /* console.log(e.target.name) */\r\n    if (e.key === \"Enter\" && e.target.name === \"codFisc\") {\r\n      /* console.log(e.key) */\r\n      ticket.current.focus();\r\n    }\r\n    if (e.key === \"Enter\" && e.target.name === \"ticket\") {\r\n      /* console.log(e.key) */\r\n      buttonSubmit.current.focus();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          <div className=\"login-form bg-light mt-4 p-4\">\r\n            <form className=\"row g-3\">\r\n              <h4>Tracing</h4>\r\n              <div className=\"col-12\">\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  value={cinema}\r\n                  aria-label=\"Disabled input example\"\r\n                  disabled\r\n                />\r\n              </div>\r\n              <div className=\"col-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  ref={codFisc}\r\n                  tabIndex=\"0\"\r\n                  name=\"codFisc\"\r\n                  onKeyPress={handleKeyPressed}\r\n                  className=\"form-control\"\r\n                  placeholder=\"CODICE FISCALE\"\r\n                />\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <ModalPhoto origin={\"codfiscale\"} setInput={codFisc} />\r\n              </div>\r\n\r\n              <div className=\"col-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"ticket\"\r\n                  onKeyPress={handleKeyPressed}\r\n                  tabIndex=\"0\"\r\n                  ref={ticket}\r\n                  className=\"form-control\"\r\n                  placeholder=\"TICKET\"\r\n                />\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <ModalPhoto origin={\"ticket\"} setInput={ticket} />\r\n              </div>\r\n              <div className=\"col-12\">\r\n                <Accordion\r\n                  setScreen={setScreen}\r\n                  setTime={setTime}\r\n                  num={number}\r\n                  nome={agregato}\r\n                  totScreen={totScreen}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-12\">\r\n                <input\r\n                  name=\"date\"\r\n                  className=\"form-control\"\r\n                  aria-label=\"Disabled input example\"\r\n                  placeholder=\"date\"\r\n                  value={new Date().toLocaleString() + \"\"}\r\n                  disabled\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-12 d-flex justify-content-center\">\r\n                <button\r\n                  ref={buttonSubmit}\r\n                  type=\"button\"\r\n                  onClick={onSubmit}\r\n                  className=\"btn btn-dark\"\r\n                >\r\n                  Register\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <hr />\r\n            <Table registration={registrer} setRegistrer={setRegistrer} />\r\n            <hr className=\"mt-4\" />\r\n            <div className=\"col-12\">\r\n              <p className=\"text-center mb-0\">dev by Fabio Conti</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ToastContainer\r\n        position=\"bottom-right\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tracing;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const NavBar = ({ isLogged }) => {\r\n  const Litracing = () => {\r\n    if (isLogged) {\r\n      return (\r\n        <li className=\"nav-item m-2\">\r\n          <Link to={`/tracing`}>Tracing </Link>\r\n        </li>\r\n      );\r\n    } else {\r\n      return <li className=\"nav-item m-2\">loggati</li>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <div className=\"container-fluid\">\r\n        <a className=\"navbar-brand\" href=\"/\">\r\n          TRACING\r\n        </a>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\" />\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li className=\"nav-item m-2\">\r\n              <Link to={`/login`}>Login</Link>\r\n            </li>\r\n            <Litracing />\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport \"./style.css\";\r\nimport Login from \"./component/login\";\r\nimport Tracing from \"./component/tracing\";\r\nimport Navbar from \"./component/navbar\";\r\nimport { useState } from \"react\";\r\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\r\n\r\nexport default function App() {\r\n  const [cinema, setCinema] = useState(\"\");\r\n  const [totScreen, setTotScreen] = useState(0);\r\n  const [isLogged, setLogged] = useState(false);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container-fluid\">\r\n        <Router>\r\n          <Navbar isLogged={isLogged} />\r\n          <Routes>\r\n            <Route\r\n              path=\"/\"\r\n              element={\r\n                <Login\r\n                  setTotScreen={setTotScreen}\r\n                  setCinema={setCinema}\r\n                  setLogged={setLogged}\r\n                />\r\n              }\r\n            />\r\n            <Route\r\n              path=\"login\"\r\n              element={\r\n                <Login\r\n                  setCinema={setCinema}\r\n                  setTotScreen={setTotScreen}\r\n                  setLogged={setLogged}\r\n                />\r\n              }\r\n            />\r\n            <Route\r\n              path=\"tracing\"\r\n              element={<Tracing cinema={cinema} totScreen={totScreen} />}\r\n            />\r\n            <Route\r\n              path=\"*\"\r\n              element={\r\n                <main style={{ padding: \"1rem\" }}>\r\n                  <p>There's nothing here!</p>\r\n                </main>\r\n              }\r\n            />\r\n          </Routes>\r\n        </Router>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}